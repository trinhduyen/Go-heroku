{% extends 'base.html' %}
{% block content %}
{% load humanize %}
<div class="comtainer">
    <div class="card">
        <div class="card-body">
            <form action="" method = "post">
                {% csrf_token %}
                <div class='card-header '>
                    <h7 style='text-align:center'> Nhập Thời Gian Cần Xem Báo Cáo</h7><br>
                </div><br>
                <div class="row">
                    <div class="col-md-1">Start:</div>
                    <div class="col-md-3">
                        <input type="date" class='form-control' name ='start_date' value={{start}}>
                    </div>
                    <div class="col-md-1"></div>
                    <div class="col-md-1">End:</div>
                    <div class="col-md-3">
                        <input type="date"  class='form-control' name ='end_date' value ={{end}}>
                    </div>
                    <div class="col-md-1">
                        <input type="submit" class='btn btn-outline-success' value ='Search'> </input>
                    </div>
                </div>
            </form>
        </div>
      
    </div>
    
<div class="card">
    <div class="card-body">
        <div class="row mt-3 pt-3">
            {% if data1 is not None %}
                    <div class="col-md-5">
                        <div class="card">
                            <div class="card-header">
                                Thông Tin Xe 
                            </div>
                            <div class="card-body">
                                <div  style="overflow-x: auto;">
                                <table class='table'>
                                    <th>
                                        Biển Số Xe
                                    </th>
                                    <th>
                                        Số Lần Vào 
                                    </th>
                                    <th>
                                        Tổng Chi Phí Vật Tư
                                    </th>
                                
                                    {% for item in data1 %}
                                    <tr>
                                        <td>
                                            {{item.id}}
                                        </td>
                                        <td>
                                            {{item.count}}
                                        </td>
                                        <td>
                                            {{item.sum|floatformat|intcomma}}
                                        </td>
                                        
                                    </tr>
                                    {% endfor %}
                                
                                </table>
                            </div>
                                {% endif %}
                           
                            </div>
                        </div>
                    </div>
                {% if data2 is not None %}    
                <div class="col-md-5">
                    <div class="card">
                        <div class="card-header">Xe Vào Chưa Ra  </div>
                        <div class="card-body">
                            <div  style="overflow-x: auto;">
                            <table class='table'>
                                <th>Biển Số Xe</th>
                                <th>Số Ngày Vào</th>
                                <th>Tình Trạng </th>
                                {% for item in data2 %}
                                <tr>
                                    <td>{{item.BienSoXe}}</td>
                                    <td> {{item.days}}</td>
                                    <td>
                                        <div onmousemove="myFunction(event)" onmouseout="clearCoor()">LyDo</div>
                                    </td>
                                </tr>
                                {% endfor %}
                              
                            </table>
                        </div>
                    </div>
                    </div>
                   
                </div>   
                {% endif %} 
        </div>
    </div>
  
   
</div>
    
</div>




{% endblock content %}
<script>
    function myFunction(e) {
      var x = e.clientX;
      var y = e.clientY;
      var coor = "Coordinates: (" + x + "," + y + ")";
      document.getElementById("demo").innerHTML = coor;
    }
    
    function clearCoor() {
      document.getElementById("demo").innerHTML = "";
    }
    </script>